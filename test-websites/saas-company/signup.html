<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign Up - CloudFlow SaaS</title>
    <link rel="stylesheet" href="styles.css">

    <!-- LEAD SCORING TRACKING SCRIPT -->
    <script
      src="http://localhost:3001/tracking-plugin/lead-scorer.js"
      data-website-id="19db0175-0223-4795-80f8-163e07365aa4"
      data-api-key="lsk_d95033840f4cc8b3f1d055e5c9ee1070b8f5fc9e3549b42dfd8d1e239f8d3e24"
      data-api-url="http://localhost:3001/api/v1"
      data-debug="true">
    </script>

</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">‚òÅÔ∏è CloudFlow</div>
            <ul class="nav-menu">
                <li><a href="index.html">Home</a></li>
                <li><a href="features.html">Features</a></li>
                <li><a href="pricing.html">Pricing</a></li>
                <li><a href="contact.html">Contact</a></li>
            </ul>
            <div class="nav-buttons" id="navButtons">
                <a href="login.html" class="btn-login">Login</a>
            </div>
        </div>
    </nav>

    <section class="auth-section">
        <div class="auth-container">
            <div class="auth-card">
                <div class="auth-header">
                    <h1>Start Your Free Trial</h1>
                    <p>No credit card required. Get started in seconds.</p>
                </div>

                <form id="signupForm" class="auth-form" onsubmit="handleSignup(event)">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="firstName">First Name</label>
                            <input
                                type="text"
                                id="firstName"
                                name="firstName"
                                required
                                placeholder="John"
                                autocomplete="given-name"
                            >
                        </div>
                        <div class="form-group">
                            <label for="lastName">Last Name</label>
                            <input
                                type="text"
                                id="lastName"
                                name="lastName"
                                required
                                placeholder="Smith"
                                autocomplete="family-name"
                            >
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="email">Work Email</label>
                        <input
                            type="email"
                            id="email"
                            name="email"
                            required
                            placeholder="you@company.com"
                            autocomplete="email"
                        >
                    </div>

                    <div class="form-group">
                        <label for="company">Company Name</label>
                        <input
                            type="text"
                            id="company"
                            name="company"
                            required
                            placeholder="Your Company Inc."
                            autocomplete="organization"
                        >
                    </div>

                    <div class="form-group">
                        <label for="jobTitle">Job Title</label>
                        <input
                            type="text"
                            id="jobTitle"
                            name="jobTitle"
                            placeholder="Product Manager"
                            autocomplete="organization-title"
                        >
                    </div>

                    <div class="form-group">
                        <label for="password">Password</label>
                        <input
                            type="password"
                            id="password"
                            name="password"
                            required
                            placeholder="At least 8 characters"
                            autocomplete="new-password"
                            minlength="8"
                        >
                        <small class="form-hint">Must be at least 8 characters</small>
                    </div>

                    <div class="form-group">
                        <label for="confirmPassword">Confirm Password</label>
                        <input
                            type="password"
                            id="confirmPassword"
                            name="confirmPassword"
                            required
                            placeholder="Re-enter your password"
                            autocomplete="new-password"
                            minlength="8"
                        >
                    </div>

                    <div class="form-group">
                        <label class="checkbox-label">
                            <input type="checkbox" name="terms" id="terms" required>
                            <span>I agree to the <a href="#" class="link-text">Terms of Service</a> and <a href="#" class="link-text">Privacy Policy</a></span>
                        </label>
                    </div>

                    <button type="submit" class="btn-primary btn-full">Create Account</button>

                    <div class="form-divider">
                        <span>or sign up with</span>
                    </div>

                    <div class="social-login">
                        <button type="button" class="btn-social" onclick="handleSocialSignup('google')">
                            <span>üîç</span> Google
                        </button>
                        <button type="button" class="btn-social" onclick="handleSocialSignup('microsoft')">
                            <span>ü™ü</span> Microsoft
                        </button>
                    </div>

                    <div class="auth-footer">
                        <p>Already have an account? <a href="login.html" class="link-primary">Login here</a></p>
                    </div>
                </form>
            </div>

            <div class="auth-benefits">
                <h2>What You Get</h2>
                <ul class="benefits-list">
                    <li>
                        <div class="benefit-icon">‚úÖ</div>
                        <div>
                            <h3>14-Day Free Trial</h3>
                            <p>Full access to all features. No credit card needed.</p>
                        </div>
                    </li>
                    <li>
                        <div class="benefit-icon">‚ö°</div>
                        <div>
                            <h3>Instant Setup</h3>
                            <p>Get up and running in less than 5 minutes</p>
                        </div>
                    </li>
                    <li>
                        <div class="benefit-icon">üë•</div>
                        <div>
                            <h3>Unlimited Team Members</h3>
                            <p>Invite your entire team at no extra cost</p>
                        </div>
                    </li>
                    <li>
                        <div class="benefit-icon">üí¨</div>
                        <div>
                            <h3>Dedicated Onboarding</h3>
                            <p>Personal walkthrough with our success team</p>
                        </div>
                    </li>
                </ul>

                <div class="trust-badges">
                    <p class="trust-text">Trusted by 10,000+ companies</p>
                    <div class="badges">
                        <span class="badge">üîí SOC 2 Certified</span>
                        <span class="badge">‚úÖ GDPR Compliant</span>
                        <span class="badge">‚≠ê 4.9/5 Rating</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer class="footer">
        <p>&copy; 2026 CloudFlow SaaS. All rights reserved.</p>
        <div class="footer-links">
            <a href="#">Privacy Policy</a>
            <a href="#">Terms of Service</a>
            <a href="#">Security</a>
        </div>
    </footer>

    <script src="script.js"></script>
    <script>
        async function handleSignup(event) {
            event.preventDefault();

            const formData = new FormData(event.target);

            // Validate passwords match
            const password = formData.get('password');
            const confirmPassword = formData.get('confirmPassword');

            if (password !== confirmPassword) {
                alert('Passwords do not match. Please try again.');
                return;
            }

            const signupData = {
                firstName: formData.get('firstName'),
                lastName: formData.get('lastName'),
                email: formData.get('email'),
                company: formData.get('company'),
                jobTitle: formData.get('jobTitle'),
                termsAccepted: formData.get('terms') === 'on',
                timestamp: new Date().toISOString(),
                page: window.location.pathname
            };

            console.log('üìù SIGNUP FORM SUBMITTED');
            console.log('Signup Data:', {
                ...signupData,
                password: '[HIDDEN]' // Don't log passwords
            });
            console.log('Full Name:', `${signupData.firstName} ${signupData.lastName}`);
            console.log('Email:', signupData.email);
            console.log('Company:', signupData.company);

            // Track signup to API for lead scoring
            try {
                const config = window.LEAD_SCORER_CONFIG;
                if (config) {
                    const response = await fetch(`${config.apiUrl}/track`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'X-API-Key': config.apiKey,
                            'X-Website-Id': config.websiteId
                        },
                        body: JSON.stringify({
                            event_type: 'form_submission',
                            visitor_id: getVisitorId(),
                            data: {
                                name: `${signupData.firstName} ${signupData.lastName}`,
                                email: signupData.email,
                                company: signupData.company,
                                job_title: signupData.jobTitle,
                                page_url: '/signup'
                            }
                        })
                    });
                    const result = await response.json();
                    console.log('‚úÖ Signup tracked to API - Lead ID:', result.lead_id);
                }
            } catch (error) {
                console.error('Error tracking signup:', error);
            }

            // Store user in localStorage (simulated authentication)
            localStorage.setItem('cloudflow_user', JSON.stringify({
                email: signupData.email,
                name: `${signupData.firstName} ${signupData.lastName}`,
                company: signupData.company,
                jobTitle: signupData.jobTitle,
                signedUpAt: new Date().toISOString(),
                sessionId: 'sess_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9),
                isNewUser: true
            }));

            console.log('‚úÖ SIGNUP SUCCESSFUL - User stored in localStorage');
            console.log('New user created and authenticated');

            // Show success message
            alert(`Welcome to CloudFlow, ${signupData.firstName}!\n\nEmail: ${signupData.email}\nCompany: ${signupData.company}\n\nYour account has been created. This signup has been tracked as a high-value lead conversion.`);

            // Redirect to home page (in production, would go to onboarding)
            setTimeout(() => {
                window.location.href = 'index.html?welcome=true';
            }, 1500);
        }

        function handleSocialSignup(provider) {
            console.log(`üîó SOCIAL SIGNUP CLICKED: ${provider}`);
            console.log('Provider:', provider);
            console.log('Timestamp:', new Date().toISOString());

            alert(`Social signup with ${provider} would be initiated here.\n\nThis action has been logged to console.`);
        }

        // Track page view
        window.addEventListener('load', function() {
            console.log('üìÑ PAGE VIEW: /signup.html');
            console.log('Page: Signup Page (High-Value Page)');
            console.log('Timestamp:', new Date().toISOString());
            console.log('Note: Visiting signup page indicates strong purchase intent');
        });

        // Real-time password validation
        document.getElementById('confirmPassword')?.addEventListener('input', function(e) {
            const password = document.getElementById('password').value;
            const confirmPassword = e.target.value;

            if (confirmPassword && password !== confirmPassword) {
                e.target.setCustomValidity('Passwords do not match');
            } else {
                e.target.setCustomValidity('');
            }
        });
    </script>
</body>
</html>
